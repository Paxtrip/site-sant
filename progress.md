# Журнал выполнения работ (v2.0)

## Общая информация

- **ТЗ**: версия 2.0
- **Backend**: Strapi v4
- **Frontend**: Next.js (TypeScript)
- **База данных**: PostgreSQL
- **Развертывание**: Docker

## Завершенные этапы:

* [ ] Этап 1: Подготовка проекта и Strapi
* [ ] Этап 2: Настройка БД и иерархии
* [x] Этап 3: Frontend базовая структура
* [x] Этап 4: Интеграция API и меню
* [x] Этап 5: Поиск и функционал
* [ ] Этап 6: Печать и PDF
* [ ] Этап 7: Адаптивность и стили
* [ ] Этап 8: Docker и развертывание

## Текущие задачи:

- **Дата**: 2024-07-25
- **Этап**: 6
- **Текущая задача**: Печать и PDF. Реализация клиентской печати через `window.print()` и создание специальных CSS-стилей для печати.
- **Статус**: started
- **Коммиты**: -

---
## Завершенные задачи:
- **Дата**: 2024-07-25
- **Этап**: 5
- **Текущая задача**: Реализована функция поиска (фронтенд и бэкенд).
- **Статус**: completed
- **Коммиты**: 38b4524
- **Дата**: 2024-07-25
- **Этап**: 4
- **Текущая задача**: Интеграция API и меню. Создан API-клиент (`lib/strapi.ts`), компонент `TreeMenu` и динамические страницы.
- **Статус**: completed
- **Коммиты**: ec228cf, 379c820
- **Дата**: 2024-07-25
- **Этап**: 3
- **Текущая задача**: Frontend базовая структура.
- **Статус**: completed
- **Коммиты**: 168db7b

## Техническое задание (v2.0)

### 1. Backend (Strapi)

- **Content Types**:
  - `Category`, `Page`, `News`, `Media`/`Document` (self-relation для Category).

- **API**:
  - CRUD по умолчанию.
  - `/api/search?q=...`
  - `/api/pages/:id/pdf` (puppeteer).

- **Seed**: Скрипт для заполнения тестовыми данными.

### 2. База данных

- **PostgreSQL** в production.

### 3. Frontend (Next.js)

*   **Страницы**: `/`, `/[...slug]`, `/news/[slug]`, `/search`.
*   **Компоненты**: `TreeMenu` (lazy loading), `Breadcrumbs`, `react-quill` (или `tiptap`), `pdfmake` (клиент), `puppeteer` (сервер).

### 4. Инфраструктура

*   **Docker**: `docker-compose.yml`, `override.yml`, `prod.yml`.
*   **Nginx**: Reverse proxy.

### 5. GitHub + CI/CD

- Регулярные коммиты, `.gitignore`, секреты в CI/CD.
